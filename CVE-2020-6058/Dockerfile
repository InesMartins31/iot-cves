FROM ubuntu:18.04
ARG DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y --no-install-recommends wget make gcc libc6-dev
WORKDIR /home
RUN wget --no-check-certificate https://github.com/troglobit/mini-snmpd/releases/download/v1.4/mini-snmpd-1.4.tar.gz && \
    tar zxf mini-snmpd-1.4.tar.gz && \
    cd mini-snmpd-1.4/ && \
    ./configure --prefix=/usr --disable-ipv6 && make -j && make install-strip
EXPOSE 7777/udp
CMD ["/home/mini-snmpd-1.4/mini_snmpd","-p","7777","-n","-v"]